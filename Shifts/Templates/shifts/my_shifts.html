{% load static %}
<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <title>L·ªãch l√†m vi·ªác c·ªßa t√¥i</title>
    <link rel="stylesheet" href="{% static 'accounts/css/login.css' %}">
    <style>
        /* Copy CSS t·ª´ my_registrations.html */
        /* ... c√πng CSS ... */
    </style>
</head>
<body class="page">
    <div class="card">
        <!-- Header -->
        <div class="brand">
            <svg class="logo" viewBox="0 0 64 64">
                <path d="M10 22h36v10a14 14 0 0 1-14 14H24A14 14 0 0 1 10 32z" fill="currentColor"/>
            </svg>
            <div class="brand-text">
                <h1>üóìÔ∏è L·ªãch l√†m vi·ªác c·ªßa t√¥i</h1>
                <p>Xem l·ªãch l√†m vi·ªác ƒë√£ ƒë∆∞·ª£c ph√¢n c√¥ng</p>
            </div>
        </div>
        
        <!-- Tabs -->
        <div class="tabs">
            <a href="{% url 'shifts:shift_register' %}" class="tab">
                üìù ƒêƒÉng k√Ω ca m·ªõi
            </a>
            <a href="{% url 'shifts:my_registrations' %}" class="tab">
                üìã Ca ƒë√£ ƒëƒÉng k√Ω
            </a>
            <a href="{% url 'shifts:my_shifts' %}" class="tab active">
                üóìÔ∏è L·ªãch l√†m vi·ªác
            </a>
        </div>
        
        <!-- N·ªôi dung -->
        <div style="text-align: center;">
            <h3 style="color: #5D4037; margin: 30px 0;">L·ªãch l√†m vi·ªác th√°ng {{ month }}/{{ year }}</h3>
            
            {% if assigned_shifts %}
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Ng√†y</th>
                            <th>T√™n ca</th>
                            <th>Th·ªùi gian</th>
                            <th>S·ªë gi·ªù</th>
                            <th>Tr·∫°ng th√°i</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for shift in assigned_shifts %}
                        <tr>
                            <td><strong>{{ shift.date|date:"d/m/Y" }}</strong></td>
                            <td>{{ shift.shift.name }}</td>
                            <td>{{ shift.shift.start_time|time:"H:i" }} - {{ shift.shift.end_time|time:"H:i" }}</td>
                            <td>{{ shift.shift.get_duration_hours }} gi·ªù</td>
                            <td>
                                {% if shift.date < today %}
                                <span class="status-badge status-past">ƒê√£ ho√†n th√†nh</span>
                                {% elif shift.date == today %}
                                <span class="status-badge status-assigned">H√¥m nay</span>
                                {% else %}
                                <span class="status-badge status-assigned">S·∫Øp t·ªõi</span>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
            <!-- Th·ªëng k√™ -->
            <div style="margin-top: 30px; padding: 20px; background: #FFF8F0; border-radius: 10px;">
                <h4 style="color: #5D4037; margin-bottom: 15px;">üìä Th·ªëng k√™ th√°ng {{ month }}/{{ year }}</h4>
                <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px;">
                    <div style="text-align: center;">
                        <div style="font-size: 32px; color: #8B4513; font-weight: bold;">{{ total_shifts }}</div>
                        <div style="color: #666;">T·ªïng s·ªë ca</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 32px; color: #2E7D32; font-weight: bold;">{{ total_hours }}</div>
                        <div style="color: #666;">T·ªïng gi·ªù l√†m</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 32px; color: #1565C0; font-weight: bold;">
                            {% if total_hours > 0 %}
                                {{ total_hours|floatformat:1 }}
                            {% else %}
                                0
                            {% endif %}
                        </div>
                        <div style="color: #666;">Gi·ªù l√†m trung b√¨nh/ca</div>
                    </div>
                </div>
            </div>
            
            {% else %}
            <div class="empty-state">
                <div class="empty-state-icon">üìÖ</div>
                <h3>Ch∆∞a c√≥ l·ªãch l√†m vi·ªác</h3>
                <p>B·∫°n ch∆∞a ƒë∆∞·ª£c ph√¢n c√¥ng ca l√†m vi·ªác n√†o trong th√°ng {{ month }}/{{ year }}</p>
                <a href="{% url 'shifts:shift_register' %}" class="btn btn-primary" style="margin-top: 20px;">
                    üìù ƒêƒÉng k√Ω ca ngay
                </a>
            </div>
            {% endif %}
            
           
        </div>
    </div>
</body>
</html>