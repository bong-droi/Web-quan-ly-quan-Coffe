{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>Khách hàng | Coffee Cat</title>

  <link rel="stylesheet" href="{% static 'accounts/css/dashboard.css' %}">
  <style>
    .dash-nav{
      display:flex;
      gap:8px;
      padding:8px clamp(12px,4vw,56px);
    }
    .dash-nav .nav-btn{
      padding:8px 18px;
      border-radius:999px;
      background:transparent;
      border:none;
      cursor:pointer;
      color:#6b4f3f;
    }
    .dash-nav .nav-btn.active{
      background:linear-gradient(180deg,#d3925d,#b96b33);
      color:#fff !important;
    }
    iframe.dash-frame{
      width:100%;
      height: calc(100vh - 220px);
      border:0;
      display:block;
    }
  </style>
</head>

<body>
<div class="bg"></div>

<header class="dash-header">
  <div class="brand">
    <svg class="logo" viewBox="0 0 24 24"><path d="M4 12c0 4.418 3.582 8 8 8s8-3.582 8-8"/></svg>
    <div class="brand-text">
      <h1>Xin chào, {{ request.user.username }}</h1>
      <p>Khám phá menu và đặt món ngay</p>
    </div>
  </div>
  <a class="logout-link" href="{% url 'logout' %}">Đăng xuất</a>
</header>

<nav class="dash-nav">
 {% comment %} <button class="nav-btn active" onclick="setFrame('{% url 'customer_menu' %}', this)">Menu</button>  {% endcomment %}
  <button class="nav-btn" onclick="setFrame('{% url 'customer_order_ui' %}', this)">Đặt món</button>
  <button class="nav-btn" onclick="setFrame('{% url 'password_change' %}', this)">Đổi mật khẩu</button>
</nav>

<main class="dash-main">
  <!-- <iframe id="dashFrame" class="dash-frame" src="{% url 'customer_home' %}"></iframe> -->
  <iframe id="dashFrame" class="dash-frame" src="{% url 'customer_menu' %}"></iframe>
</main>

<footer class="dash-foot">© Coffee App</footer>

<script>
function setFrame(url, btn){
  document.getElementById("dashFrame").src = url;

  document.querySelectorAll(".nav-btn").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");
}
</script>

</body>
</html>