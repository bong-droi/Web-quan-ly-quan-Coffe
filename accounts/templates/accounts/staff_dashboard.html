{% load static %}
<link rel="stylesheet" href="{% static 'accounts/css/dashboard.css' %}">

<div class="bg"></div>

<a class="logout-link" href="{% url 'logout' %}">Đăng xuất</a>

<header class="dash-header">
  <div class="brand">
    <svg class="logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M4 12c0 4.418 3.582 8 8 8s8-3.582 8-8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
      <path d="M7 10c0 3.314 2.686 6 6 6s6-2.686 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
    </svg>
    <div class="brand-text">
      <h1>Dashboard Nhân viên</h1>
      <p>Xin chào, {{ request.user.username }}</p>
    </div>
  </div>
</header>

<nav class="dash-nav" role="navigation">
  <button class="nav-btn active" type="button" onclick="setFrame('{% url 'staff_order_ui' %}', this)">Đơn hàng</button>
  <button class="nav-btn" type="button" onclick="setFrame('{% url 'staff_order_tai_quay' %}', this)">Order tại quầy</button>
  <button class="nav-btn" type="button" onclick="setFrame('{% url 'shifts:shift_register' %}', this)">Đăng ký ca</button>
  <button class="nav-btn" type="button" onclick="setFrame('{% url 'shifts:my_shifts' %}', this)">Ca của tôi</button>
  <!-- <button class="nav-btn" type="button" onclick="setFrame('{% url 'password_change' %}', this)">Đổi mật khẩu</button> -->
  
</nav>

<main class="dash-main">
  <iframe id="dashFrame" class="dash-frame" src="{% url 'staff_order_ui' %}" title="Nội dung nhân viên"></iframe>
  <footer class="dash-foot">© Coffee App</footer>
  
</main>

<script>
function setFrame(url, btn){
  var f = document.getElementById('dashFrame');
  f.src = url;
  var buttons = document.querySelectorAll('.dash-nav .nav-btn');
  buttons.forEach(function(b){ b.classList.remove('active'); });
  if(btn){ btn.classList.add('active'); }
}
</script>