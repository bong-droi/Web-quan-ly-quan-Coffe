{% load static %}
<!doctype html><html lang="vi"><head>
<meta charset="utf-8"><title>Quáº£n lÃ½ tÃ i khoáº£n</title>
<link rel="stylesheet" href="{% static 'accounts/css/login.css' %}">
<style>
  /* --- Báº£ng: dÃ¹ng border cho TR Ä‘á»ƒ khÃ´ng bá»‹ lá»‡ch á»Ÿ cá»™t cuá»‘i --- */
  .table{
    width:100%;
    border-collapse:separate; /* quan trá»ng: dÃ¹ng separate Ä‘á»ƒ viá»n theo hÃ ng */
    border-spacing:0;
  }
  th,td{
    padding:10px 12px;
    vertical-align:middle;
    /* bá» viá»n dÆ°á»›i á»Ÿ tá»«ng Ã´ Ä‘á»ƒ trÃ¡nh lá»‡ch */
    border-bottom:none;
  }
  thead tr{
    border-bottom:1px solid #eee;    /* viá»n dÆ°á»›i cho header */
  }
  tbody tr{
    border-bottom:1px solid #eee;    /* má»™t Ä‘Æ°á»ng tháº³ng xuyÃªn suá»‘t cáº£ hÃ ng */
  }
  th{text-align:left}

  /* Äá»‹nh cá»¡ cá»™t */
  td:nth-child(1){width:60px;text-align:right}
  td:nth-child(2), th:nth-child(2){width:220px}
  td:nth-child(3), th:nth-child(3){width:260px}
  td:nth-child(4), th:nth-child(4){width:260px}
  td:nth-child(5), th:nth-child(5){width:120px}
  td:nth-child(6), th:nth-child(6){width:120px}

  /* Cá»™t Chi tiáº¿t: cÄƒn giá»¯a cho cáº£ tiÃªu Ä‘á» vÃ  dá»¯ liá»‡u */
  td:nth-child(7), th:nth-child(7){
    width:100px;
    text-align:center;
  }

  /* Bá» â€œcardâ€ á»Ÿ Vai trÃ²: hiá»ƒn thá»‹ chá»¯ trÆ¡n */
  .badge{
    all:unset;              /* bá» toÃ n bá»™ style cÅ© */
    font-weight:600;        /* tuá»³ chá»n: Ä‘áº­m nháº¹ cho dá»… Ä‘á»c */
    color:inherit;          /* theo mÃ u chá»¯ hiá»‡n hÃ nh */
  }

  /* HÃ ng tÃ¬m kiáº¿m */
  .search-row{display:flex;gap:10px;align-items:center}
  .search-row .input{flex:1}
  .hint{font-size:12px;color:#888}

  /* Cá»™t Chi tiáº¿t dÃ¹ng flex Ä‘á»ƒ nÃºt náº±m giá»¯a tuyá»‡t Ä‘á»‘i */
  .actions{
    display:flex;
    justify-content:center;
    align-items:center;
  }
  .actions a{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    padding:6px 12px;
    border-radius:8px;
    border:1px solid #ddd;
    background:#fff;
    text-decoration:none;
    color:#5a3d2b;
    line-height:1;
    white-space:nowrap;
    transition:.15s ease;
  }
  .actions a:hover{background:#f3f3f3;border-color:#cfcfcf}
</style>

</head><body class="page">
<div class="card" style="width:min(1100px,95vw);">
  <div class="brand"><svg class="logo" viewBox="0 0 64 64"><path d="M10 22h36v10a14 14 0 0 1-14 14H24A14 14 0 0 1 10 32z" fill="currentColor"/></svg>
    <div class="brand-text"><h1>ğŸ‘¥ Quáº£n lÃ½ tÃ i khoáº£n</h1><p>Danh sÃ¡ch ngÆ°á»i dÃ¹ng</p></div></div>

  <form method="get" class="field">
    <div class="search-row">
      <div class="input"><input name="q" value="{{ q }}" placeholder="TÃ¬m theo tÃªn Ä‘Äƒng nháº­p hoáº·c há» tÃªn (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng)"></div>
      <button class="btn" style="width:auto">TÃ¬m</button>
      {% if q %}<a class="btn" style="width:auto" href="?">XoÃ¡ lá»c</a>{% endif %}
    </div>
    <div class="hint">Thá»© tá»±: Chá»§ quÃ¡n â†’ NhÃ¢n viÃªn â†’ KhÃ¡ch; trong má»—i nhÃ³m sáº¯p xáº¿p theo username Aâ†’Z.</div>
  </form>

  <table class="table">
    <thead><tr><th>#</th><th>Username</th><th>Há» tÃªn</th><th>Email</th><th>Vai trÃ²</th><th>Tráº¡ng thÃ¡i</th><th>Chi tiáº¿t</th></tr></thead>
    <tbody>
      {% for u in page.object_list %}
      <tr>
        <td>{{ forloop.counter0|add:page.start_index }}</td>
        <td>{{ u.username }}</td>
        <td>{{ u.get_full_name|default:"â€”" }}</td>
        <td>{{ u.email|default:"â€”" }}</td>
        <td><span class="badge">{{ u.role }}</span></td>
        <td>{{ u.is_active|yesno:"Active,Locked" }}</td>
        <td class="actions"><a class="link" href="{% url 'user_detail' u.pk %}">Xem</a></td>
      </tr>
      {% empty %}
      <tr><td colspan="7">ChÆ°a cÃ³ tÃ i khoáº£n.</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <hr style="opacity:.2">

  <h3>Táº¡o nhanh nhÃ¢n viÃªn</h3>
  <form method="post" action="{% url 'user_create' %}">
    {% csrf_token %}
    <div class="field"><label>TÃªn Ä‘Äƒng nháº­p</label><div class="input"><input name="username" required></div></div>
    <div class="field"><label>Máº­t kháº©u</label><div class="input"><input name="password" type="password" required></div></div>
    <div class="field"><label>Há» tÃªn & Email (tuá»³ chá»n)</label>
      <div style="display:flex;gap:10px">
        <div class="input" style="flex:1"><input name="first_name" placeholder="Há»"></div>
        <div class="input" style="flex:1"><input name="last_name" placeholder="TÃªn"></div>
        <div class="input" style="flex:1"><input name="email" type="email" placeholder="email@..."></div>
      </div>
    </div>
    <button class="btn">Táº¡o nhÃ¢n viÃªn</button>
  </form>
</div>
</body></html>
